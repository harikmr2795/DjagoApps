<html>
<head>
    <title>Create Quiz</title>
    {% load staticfiles %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="{% static 'quiz/style.css' %}"/>
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Create Quiz</a>
    </div>
    <!--<ul class="nav navbar-nav">-->
      <!--<li class="active"><a href="#">Home</a></li>-->
      <!--<li><a href="#">Page 1</a></li>-->
    <!--</ul>-->
  </div>
</nav>

<div class="container-fluid hidden" id="qno">
    <p><span>Question 1/10</span></p>
</div>


<div class="container-fluid text-center" id="name_form">
    <input type="text" placeholder="Your Name" class="form-control top-buffer" id="name_box" name="name"><br>
    <p><span class="emsg hidden">Please enter a valid name</span></p>
    <input type="submit" class="btn btn-primary text-center" id="name_btn" value="Next">
</div>

<div class="container-fluid text-center top-buffer hidden" id="q1">
    <p><span>Question 1:</span></p>
    <form>
        <label><input type="radio" name="q1" value="1" class="q1"> Option 1</label><br>
        <label><input type="radio" name="q1" value="2" class="q1"> Option 2</label><br>
        <label><input type="radio" name="q1" value="3" class="q1"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q2">
    <p><span>Question 2:</span></p>
    <form>
        <label><input type="radio" name="q2" value="1" class="q2"> Option 1</label><br>
        <label><input type="radio" name="q2" value="2" class="q2"> Option 2</label><br>
        <label><input type="radio" name="q2" value="3" class="q2"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q3">
    <p><span>Question 3:</span></p>
    <form>
        <label><input type="radio" name="q3" value="1" class="q3"> Option 1</label><br>
        <label><input type="radio" name="q3" value="2" class="q3"> Option 2</label><br>
        <label><input type="radio" name="q3" value="3" class="q3"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q4">
    <p><span>Question 4:</span></p>
    <form>
        <label><input type="radio" name="q4" value="1" class="q4"> Option 1</label><br>
        <label><input type="radio" name="q4" value="2" class="q4"> Option 2</label><br>
        <label><input type="radio" name="q4" value="3" class="q4"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q5">
    <p><span>Question 5:</span></p>
    <form>
        <label><input type="radio" name="q5" value="1" class="q5"> Option 1</label><br>
        <label><input type="radio" name="q5" value="2" class="q5"> Option 2</label><br>
        <label><input type="radio" name="q5" value="3" class="q5"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q6">
    <p><span>Question 6:</span></p>
    <form>
        <label><input type="radio" name="q6" value="1" class="q6"> Option 1</label><br>
        <label><input type="radio" name="q6" value="2" class="q6"> Option 2</label><br>
        <label><input type="radio" name="q6" value="3" class="q6"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q7">
    <p><span>Question 7:</span></p>
    <form>
        <label><input type="radio" name="q7" value="1" class="q7"> Option 1</label><br>
        <label><input type="radio" name="q7" value="2" class="q7"> Option 2</label><br>
        <label><input type="radio" name="q7" value="3" class="q7"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q8">
    <p><span>Question 8:</span></p>
    <form>
        <label><input type="radio" name="q8" value="1" class="q8"> Option 1</label><br>
        <label><input type="radio" name="q8" value="2" class="q8"> Option 2</label><br>
        <label><input type="radio" name="q8" value="3" class="q8"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q9">
    <p><span>Question 9:</span></p>
    <form>
        <label><input type="radio" name="q9" value="1" class="q9"> Option 1</label><br>
        <label><input type="radio" name="q9" value="2" class="q9"> Option 2</label><br>
        <label><input type="radio" name="q9" value="3" class="q9"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q10">
    <p><span>Question 10:</span></p>
    <form>
        <label><input type="radio" name="q10" value="1" class="q10"> Option 1</label><br>
        <label><input type="radio" name="q10" value="2" class="q10"> Option 2</label><br>
        <label><input type="radio" name="q10" value="3" class="q10"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q11">
    <p><span>Question 11:</span></p>
    <form>
        <label><input type="radio" name="q11" value="1" class="q11"> Option 1</label><br>
        <label><input type="radio" name="q11" value="2" class="q11"> Option 2</label><br>
        <label><input type="radio" name="q11" value="3" class="q11"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q12">
    <p><span>Question 12:</span></p>
    <form>
        <label><input type="radio" name="q12" value="1" class="q12"> Option 1</label><br>
        <label><input type="radio" name="q12" value="2" class="q12"> Option 2</label><br>
        <label><input type="radio" name="q12" value="3" class="q12"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q13">
    <p><span>Question 13:</span></p>
    <form>
        <label><input type="radio" name="q13" value="1" class="q13"> Option 1</label><br>
        <label><input type="radio" name="q13" value="2" class="q13"> Option 2</label><br>
        <label><input type="radio" name="q13" value="3" class="q13"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q14">
    <p><span>Question 14:</span></p>
    <form>
        <label><input type="radio" name="q14" value="1" class="q14"> Option 1</label><br>
        <label><input type="radio" name="q14" value="2" class="q14"> Option 2</label><br>
        <label><input type="radio" name="q14" value="3" class="q14"> Option 3</label>
    </form>
</div>

<div class="container-fluid text-center top-buffer hidden" id="q15">
    <p><span>Question 15:</span></p>
    <form>
        <label><input type="radio" name="q15" value="1" class="q15"> Option 1</label><br>
        <label><input type="radio" name="q15" value="2" class="q15"> Option 2</label><br>
        <label><input type="radio" name="q15" value="3" class="q15"> Option 3</label>
    </form>
</div>


<div class="text-center">
    <input type="submit" class="btn btn-primary hidden" id="skip" value="Skip">
</div>

<div class="text-center">
    <input type="submit" class="btn btn-success hidden" id="finish" value="Finish">
</div>


<script>
$(document).ready(function(){
    var $regexname=/^[a-zA-Z][a-zA-Z .]+[a-zA-Z]$/;
    var unanswered = ["q1","q2","q3","q4","q5","q6","q7","q8","q9","q10","q11","q12","q13","q14","q15"];
    var shifter;

    $('input').click(function () {
        $('input:not(:checked)').parent().removeClass("active");
        $('input:checked').parent().addClass("active");
    });

    $("#name_btn").click(function(){
        var name = $('#name_box').val();
        if (name.match($regexname)) {
            $("#name_form").slideUp(300);
            $('#q1').removeClass("hidden");
            $('#skip').removeClass("hidden");
            $('#qno').removeClass("hidden");
        }
        else{
            $('.emsg').removeClass("hidden").hide().fadeIn(300);
        }
    });

    $(".q1").change(next);
    $(".q2").change(next);
    $(".q3").change(next);
    $(".q4").change(next);
    $(".q5").change(next);
    $(".q6").change(next);
    $(".q7").change(next);
    $(".q8").change(next);
    $(".q9").change(next);
    $(".q10").change(next);
    $(".q11").change(next);
    $(".q12").change(next);
    $(".q13").change(next);
    $(".q14").change(next);
    $(".q15").change(next);

    $("#skip").click(function(){
        $('#'+unanswered[0]).addClass('hidden');
        shifter = unanswered.shift();
        unanswered = unanswered.concat(shifter);
        console.log(unanswered);
        $('#'+unanswered[0]).removeClass('hidden');
    });

    function next(){
        $('#'+unanswered[0]).delay(700).slideUp(300);
        unanswered.shift();
        if(15-unanswered.length >= 10){
            $('#skip').addClass("hidden");
            $('#qno').addClass("hidden");
            $('#finish').removeClass("hidden");
            $('#qno').replaceWith('<div class="container-fluid" id="qno"><p><span>Share with friends</span></p></div>');
        }
        else{
            setTimeout(function() { $('#'+unanswered[0]).removeClass("hidden");}, 800);
            $('#qno').replaceWith('<div class="container-fluid" id="qno"><p><span>Question ' + parseInt(16-unanswered.length) + '/10</span></p></div>');
        }
    }
});
</script>
</body>
</html>